{% extends "layout.html" %}

{% block title %}
    Edit
{% endblock %}

{% block main %}
    <!-- bootstrap flexbox -->
    <div class="d-flex flex-wrap justify-content-around">
        {% for bookmark in bookmarks %}
            <div class="book-item mb-3 mr-2 border border-light">
                <h5>{{bookmark['category']}}</h5>
                <ul class='resources'>
                    {% for row in bookmark['rows'] %}
                        <!-- href="javascript:" makes it a fake anchor -->
                        <li><a href="javascript:" data-toggle='tooltip'
                            title="{{row['tooltip']}}" data-placement='right'
                            data-html='true' id="{{row['bid']}}" 
                            onclick="edit(this)">
                            {{row['short_title']}}</a>
                        </li>
                    {% endfor %}
                </ul>
            </div> <!-- end bookitem -->
        {% endfor %}
    </div> <!-- end flexbox-->
{% endblock %}

{% block scripts %}
    <script>
        // I could use delegation, as far as I understood.
        // But this way is simpler (to understand)
        // see: https://javascript.info/event-delegationS
        function edit(anchor){
            //console.log('Post id:' + anchor.id + '\n' 
                // + 'Type of id: ' + typeof anchor.id);
            post_id = anchor.id;
            // transfer to url
            // Is there a bettwer way to do it?
            window.location.assign('edit_id/' + post_id);
        };
    </script>
{% endblock %}